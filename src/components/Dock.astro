---
import Linkedin from "../assets/icons/Linkedin.astro";
import Github from "../assets/icons/Github.astro";
import Phone from "../assets/icons/Phone.astro";

const SOCIAL = [
  {
    href: "https://www.linkedin.com/in/4ndresdev/",
    Icon: Linkedin,
  },
  {
    href: "https://github.com/4ndresdev",
    Icon: Github,
  },
  {
    href: "tel:3931072706",
    Icon: Phone,
  },
];
---

<div
  class="rounded-lg bg-[#F9F5F1] dark:bg-slate-700 inset-x-0 fixed mx-auto content-center w-[75%] max-w-72 px-2 py-1 bottom-0 mb-5 flex items-center justify-between fade-in delay-2000ms shadow bg-opacity-75 backdrop-blur-lg"
>
  <div class="social-container flex gap-2">
    {
      SOCIAL.map(({ href, Icon }) => (
        <a
          href={href}
          target="_blank"
          rel="noopener noreferrer"
          class="w-12 h-12 border-b-2 dark:border-slate-600 bg-[#F9F5F1] dark:bg-slate-800 rounded-lg flex items-center justify-center transition-transform ease-in-out duration-200 hover:translate-y-[-8px]"
        >
          <Icon />
        </a>
      ))
    }
  </div>
  <div class="border-l-2 dark:border-slate-600">
    <div
      id="theme-toggle"
      role="button"
      class="w-12 h-12 ml-2 border-b-2 dark:border-slate-600 bg-[#F9F5F1] rounded-lg dark:bg-slate-800 flex items-center justify-center"
    >
      <span id="themeToggleLightIcon" class="hidden">ðŸŒž</span>
      <span id="themeToggleDarkIcon" class="hidden">ðŸŒ™</span>
    </div>
  </div>
</div>

<script>
  const themeToggleLightIcon = document.getElementById("themeToggleLightIcon");
  const themeToggleDarkIcon = document.getElementById("themeToggleDarkIcon");

  if (
    localStorage.getItem("color-theme") === "dark" ||
    (!("color-theme" in localStorage) &&
      window.matchMedia("(prefers-color-scheme: dark)").matches)
  ) {
    themeToggleLightIcon.classList.remove("hidden");
  } else {
    themeToggleDarkIcon.classList.remove("hidden");
  }

  const themeToggleBtn = document.getElementById("theme-toggle");

  themeToggleBtn.addEventListener("click", function () {
    themeToggleLightIcon.classList.toggle("hidden");
    themeToggleDarkIcon.classList.toggle("hidden");

    if (localStorage.getItem("color-theme")) {
      if (localStorage.getItem("color-theme") === "light") {
        document.documentElement.classList.add("dark");
        localStorage.setItem("color-theme", "dark");
      } else {
        document.documentElement.classList.remove("dark");
        localStorage.setItem("color-theme", "light");
      }
    } else {
      if (document.documentElement.classList.contains("dark")) {
        document.documentElement.classList.remove("dark");
        localStorage.setItem("color-theme", "light");
      } else {
        document.documentElement.classList.add("dark");
        localStorage.setItem("color-theme", "dark");
      }
    }
  });
</script>
